<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Finished projects</title>
  <link th:href="@{../static/style/Style.css}" type="text/css" rel="stylesheet">

</head>
<body>

<h1>Finished projects</h1>

<td>
  <a th:if = "${session.employee.role == 'MANAGER'}" onclick="location.href='/newProject';">New</a>
</td>

<table>
  <tr>
    <th id="Titel">Title</th>
    <th id="description">Description</th>
    <th id="deadline">Deadline</th>
    <th id="status">Status</th>
    <th id="startdate">Start date</th>
    <th id="enddate">End date</th>
    <th id="employees">Employees</th>
  </tr>
  <tr
          th:each="project : ${session.employee.getCompletedProjectArray()}">
    <td th:text="${project.getProjectTitle()}"></td>
    <td th:text="${project.getDescription()}"></td>
    <td th:text="${project.getProjectDeadline()}"></td>
    <td th:text="${project.getStatus()}"></td>
    <td th:text="${project.getStartDate()}"></td>
    <td th:text="${project.getEndDate()}"></td>
    <td th:text="${project.getEmployeesNamesFromProject()}"></td>

    <td>
      <a th:if = "${session.employee.role == 'MANAGER'}" th:href="@{/editProject/{id}(id=${project.getProjectId()})}"> Edit </a>
    </td>

    <td>
      <a th:if = "${session.employee.role == 'MANAGER'}" th:href="@{/deleteProject/{id}(id=${project.getProjectId()})}"
         onclick="return confirm('Are you sure you want to delete this project?');">Delete</a>
    </td>

  </tr>
</table>

</body>
</html>